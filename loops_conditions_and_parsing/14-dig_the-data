#!/usr/bin/env bash
# Display the number of occurrences of each (IP, HTTP status) pair in apache-access.log

awk '
  $1 ~ /^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$/ && $9 ~ /^[0-9]{3}$/ { print $1, $9 }
' apache-access.log \
| sort \
| uniq -c \
| sort -nr
