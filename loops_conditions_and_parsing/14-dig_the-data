#!/usr/bin/env bash
# Show how many times each (IP, status) pair appears

logfile=${1:-apache-access.log}

awk '$9 ~ /^[0-9]+$/ { print $1, $9 }' "$logfile" \
  | sort \
  | uniq -c \
  | sort -nr \
  | awk '{ print $1, $2, $3 }'
